<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>요약정리7,8단원</title>
    <link rel="stylesheet" href="../css/sub.css">
</head>
<body>
    <div class="wrap">
        <!-- header -->
        <header>
            <div class="inner">
                <a href="#" class="gnbBtn">
                    <span class="a"></span>
                    <span class="b"></span>
                </a>
                <a href="#" class="logo">HoonSang Choi</a>
            </div>
            <nav class="gnb">
                <ul>
                    <li><a href="#"> About Me <span>자기소개</span></a></li>
                    <li><a href="#"> Class <span>요약정리</span></a></li>
                    <li><a href="#"> Assignment <span>과제</span></a></li>
                </ul>
            </nav>
        </header>
        <section class="contents">
            <h2>7, 8단원 요약정리</h2><br><br>
            <h3>[7단원] 모바일 네트워크</h3><br><br>
            <div>
                무선 링크는 유선 링크와 다르게 추가로 고려해야 하는 것들이 존재한다.<br><br>
                신호 세기의 감소, 경로 손실<br>
                전자기파는 물체를 통과함에 따라 약화된다.<br><br>
                자유 공간에서도 전자기파 신호는 분산되고,<br>
                송신자와 수신자 사이의 거리가 증가함에 따라 신호의 세기가 감소한다.<br><br>
                이런 현상을 경로 손실(path loss)이라고도 한다.<br><br>
                다른 출발지로부터의 간섭<br>
                동일 주파수 대역으로 전송되는 무선 신호들은 서로 간섭하게 된다.<br><br>
                이러한 송신자 간의 간섭 외에 주변의 전자기 잡음(e.g., 근처의 모터 또는 전자레인지로 인한) 등도 간섭을 일으킬 수 있다.<br>
                이런 이유로 최근의 802.11 표준들은 5 GHz 대역에서 동작한다.<br><br>
                다중 경로 전파<br><br>
                송신자와 수신자 간에 전송되는 전자기파의 일부가 물체나 지표에 부딪혀서<br>
                서로 길이가 다른 여러 개의 경로를 겨처갈 때 다중 경로 전파(multipath propagation) 현상이 생긴다.<br><br>

                이는 수신 측에서 감지되는 신호를 또렷하지 않게 만든다.<br><br>

                이들을 통해 알 수 있듯이, 유선 링크보다는 무선 링크에서 비트 오류가 더 자주 발생한다.<br><br>

                따라서 802.11을 포함한 무선 링크 프로토콜은 강력한 CRC 오류 검출 코드를 사용할 뿐만 아니라<br>
                손상된 프레임을 재전송해주는 링크 레벨의 신뢰성 있는 데이터 전송 프로토콜을 사용한다.<br><br>

                SNR, BER<br>
                SNR(signal-to-noise ratio)<br>
                측정된 수신 신호의 세기와 잡음의 상대적인 비율<br><br>

                단위 : 데시벨(dB)<br>
                (수신 신호의 진폭과 잡음의 진폭에 각각 밑이 10인 로그함수를 취한 비율의 20배)<br>
                SNR 값이 커질수록 수신 측에서는 잡음에도 불구하고 원하는 신호를 추출하기 쉬워진다.<br><br>

                비트 오류율, BER(bit error rate)<br>
                송신된 비트가 수신 측에서 오류로 검출될 확률<br><br>

                아래 그림은 이상적인 무선 채널에서 세 가지 변조(modulation) 기법의 비트 오류율을 나타내는 BER 값과 SNR 값의 관계를 보여준다.<br>
                <p class="img"><img src="../img/7-1.png" alt=""></p>
                <br><br>
                동일한 변조 기법 내에서는 SNR 값이 높을수록 BER 값이 낮아진다<br>
                이는 송신자가 출력 세기를 높이면 SNR 값이 커지고,<br>
                동시에 수신된 비트에서 오류가 발생할 확률은 낮아지기 때문이다.<br><br>

                그러나 출력 세기를 어느 임계점 이상으로 높이는 것은 이득이 없다.<br><br>


                출력 세기를 높이는 것의 단점은 다음과 같다.<br><br>

                출력 세기를 높일수록 송신 장치에서 더 많은 에너지가 소모되며, 이는 배터리를 사용하는 이동 통신 사용자에게는 중요한 문제다.<br>
                출력 세기를 높이면 다른 송신자의 전송과 더 많은 간섭이 생길 수 있다.<br><br>

                동일한 SNR 값에서는 높은 전송률을 갖는 변조 기법이 더 높은 BER 값을 갖는다<br>
                위 그림에서 SNR 값이 10 dB일 때를 보자.<br><br>

                1 Mbps 전송률의 BPSK 변조 기법의 BER 값 = 10^(-7) 이하<br>
                4 Mbps 전송률의 QAM16 변조 기법의 BER 값 = 10^(-1)<br>
                10^(-1)는 실제 사용하기에는 지나치게 높은 오류율이기 때문에, 이 환경에서는 BPSK 변조 기법이 더 선호된다.<br><br>


                반대로, SNR 값이 20 dB일 때를 보자.<br><br>

                1 Mbps 전송률의 BPSK 변조 기법의 BER 값은 표시되지도 않을 정도로 낮다.<br>
                4 Mbps 전송률의 QAM16 변조 기법의 BER 값 = 10^(-7)<br>
                만약 10^(-7) 정도의 BER 값이 별문제가 없다면 이 환경에서는 높은 전송률을 갖는 QAM16 변조 기법이 더 선호된다.<br><br>


                이러한 고찰을 기반으로 다음에 기술한 마지막 특성이 도출된다.<br><br>


                변조 기술을 채널의 조건에 적합하도록 유연하게 적응시키기 위해 물리 계층 변조 기법의 동적인 선택이 사용될 수 있다<br>
                SNR 및 BER 값은 이동성의 결과 또는 환경의 변화로 인해 바뀔 수 있다.<br><br>

                따라서 802.11 와이파이 또는 4G/5G 네트워크 기반의 셀룰러 데이터 전송 시스템에서는<br>
                주어진 채널 환경에서 적당한 BER를 만족하는 동시에 최고의 전송률을 제공하는 적응적인 변조 기법을 선택할 수 있도록 허용한다.<br><br>



                숨은 터미널 문제(hidden terminal problem)<br>
                아래의 상황에서 A가 B로, C가 B로 데이터를 전송한다고 가정하자.<br>
                <p class="img"><img src="../img/7-2.png" alt=""></p><br><br>

                이때 A와 C의 전송 신호가 실제로 목적지 B에서 간섭됨에도 불구하고<br>
                산이나 건물 등의 환경적인 장애물로 인해 A와 C는 서로 상대방의 전송을 인지하지 못하는 일이 생긴다.<br><br>

                이를 숨은 터미널 문제(hidden terminal problem)한다.<br><br>

                CDMA<br><br>
                코드 분할 다중 접속(code division multiple access, CDMA)은 채널 분할 접속 프로토콜의 하나로서,<br>
                무선 랜 및 셀룰러 기술에서 아주 많이 사용되고 있다.<br><br>

                채널 분할 접속 프로토콜<br><br>

                CDMA 프로토콜에서는 송신자가 전송하는 각 비트를 확장해서<br>
                애초의 데이터 비트열보다 훨씬 빠른 속도(칩 속도(chipping rate))로 변화되도록 하는 신호(코드)를 곱하는 방식으로 인코딩한다.<br><br>

                802.11b, g, n, ac, ax 표준<br><br>
                일반적으로 거리가 70m 미만인 영역에서 동작하는 WLAN 용도<br>
                이전 표준과의 역방향 호환성을 갖는다.<br><br>
                즉, 802.11g 기능만을 갖는 이동 단말도 802.11ac 또는 802.11ax 기지국과의 상호작용이 가능하다.<br>
                모두 CSMA/CA라는 동일한 매체 접속 프로토콜을 사용한다.<br><br>

                802.11af, ah 표준<br><br>
                IoT, 센서 네트워크, 측정 애플리케이션을 활용하기 위한 용도 (좀 더 먼 거리에서 동작)<br><br>


                주파수 영역<br>
                802.11 무선 랜 장치들은 두 종류의 주파수 영역에서 동작한다.<br><br>


                2.4 GHz 대역<br>
                5.1~5.8 GHz 주파수 영역<br>
                비허가(unlicensed) 주파수 대역<br>
                이 영역에서 802.11 장치들은 2.4 GHz 무선 전화 및 가전제품과 주파수 경쟁을 하게 된다.<br><br>

                5 GHz 대역<br>
                전력 수준이 동일할 경우 전송 거리가 더 짧고 다중 경로 전파의 영향을 더 많이 받는다.<br><br>


                안테나<br><br>
                802.11n, 802.11ac, 802.11ax 표준은 MIMO(multiple input multiple-output) 안테나를 사용한다.<br>

                이는 송신과 수신 측에 각각 2개 이상의 안테나가 있어 각기 다른 신호를 송수신하는 방식이다.<br><br>


                802.11ac, 802.11ax 기지국은 여러 개의 스테이션을 동시에 전송할 수 있으며,<br>
                목적지에 따라 동적으로 수신자의 방향을 향해 전송할 수 있는 스마트 안테나를 사용한다.<br><br>

                이는 간섭을 줄이고, 동일한 데이터 전송률에서의 도달 거리를 향상하는 기능을 한다.<br>
                <p class="img"><img src="../img/7-3.png" alt=""></p><br><br>

                BSS(basic service set)<br>
                802.11 구조의 가장 근본적인 구성 단위<br><br>
                구성<br>
                하나 이상의 무선 단말기<br>
                하나의 기지국(base station) 즉, AP(access point)<br>
                전형적인 홈 네트워크에서는 BSS를 인터넷으로 연결하는 AP와 라우터가 각각 필요하다.<br><br>

                MAC 주소<br><br>
                802.11 무선 기지국은 6바이트의 MAC 주소를 가진다.<br>
                MAC 주소는 스테이션의 어댑터(802.11 네트워크 인터페이스 카드) 펌웨어에 저장되어 있다.<br><br>
                각각의 AP도 자신의 무선 인터페이스에 대한 MAC 주소를 갖는다.<br>
                MAC 주소는 IEEE에 의해 관리되며, 이론적으로는 전 세계에서 유일성을 갖는다.<br><br>

                인프라스트럭처 무선 랜(infrastructure wireless LAN)<br>
                AP를 가진 무선 랜<br>
                네트워크 인프라스트럭처 : AP, 그리고 AP를 인터넷 라우터와 연결해주는 유선 이더넷 구조를 통칭한다.<br><br>

                애드혹 네트워크<br><br>
                중앙 제어나 외부 네트워크로의 연결 인프라가 없는 경우를 말한다.<br>
                e.g., 랩톱을 가진 사람들이 중앙 제어되는 AP가 없는 환경(회의실, 기차, 자동차 등)에서 만나 데이터를 교환할 때<br>
                네트워크는 근접한 이동 장치들 사이의 연결을 통해 즉흥적으로 형성된다.<br><br>
                이미 존재하는 다른 네트워크 인프라스트럭처에 기댈 수가 없고 따라서 가까이 있는 장치들이 서로 찾아서 통신해야 하기 때문이다.<br><br>

                수동적 스캐닝(passive scanning) : 비컨 프레임의 수신을 통해 채널을 찾는 과정<br>
                <p class="img"><img src="../img/7-4.png" alt=""></p><br><br>
                AP들로부터 비컨 프레임이 전송된다.<br>
                H1에서 선택된 AP로 결합 요청 메시지를 전송한다.<br>
                선택된 AP에서 H1으로 결합 수락 메시지를 전송한다.<br><br>

                능동적 스캐닝(active scanning) : 무선 스테이션이 영역 안에 있는 AP들에게 탐사용 프로브(probe) 프레임을 방송하는 방식<br>
                <p class="img"><img src="../img/7-5.png" alt=""></p><br><br>
                탐사용 프로브 프레임이 H1으로부터 방송된다.<br>
                AP들로부터 프로브 응답 메시지가 도착한다.<br><br>
                H1에서 선택된 AP로 결합 요청 메시지를 전송한다.<br>
                선택된 AP에서 H1으로 결합 수락 메시지를 전송한다.<br><br>

                스테이션의 첫 번째 프로브 요청에 응답한 AP는 여러 개의 응답한 AP 중 어떤 것이 선택될지 모르기 때문에 두 번째 요청/수락 핸드셰이킹 통신이 필요하다.<br><br>



                AP와의 결합 단계가 끝난 후, 무선 스테이션은 AP의 서브넷 IP 주소를 얻기 위해서 결합된 AP를 통해 서브넷으로 ‘DHCP 발견 메시지’를 전송한다.<br><br>

                서브넷 주소를 얻으면 인터넷의 나머지 노드는 이 무선 스테이션을 선택된 AP의 서브넷 내부의 IP 주소를 지닌 한 호스트로 여기게 된다.<br><br>


                무선 스테이션이 특정 AP와 결합하기 위해서는 해당 AP에게 자신을 인증(authentication)해야 할 때도 있다.<br><br>

                e.g., 스테이션의 MAC 주소를 기반으로 무선 네트워크로의 접근을 허용 / 사용자 이름과 암호를 입력<br>
                AP는 인증 서버와 통신하며, 무선 종단 스테이션과 인증 서버 사이에서 RADIUS DIAMETER 같은 프로토콜을 사용해서 정보를 중계한다.<br><br>



                802.11 MAC 프로토콜<br>
                무선 스테이션이 AP와 결합되면 AP와 데이터 프레임을 송수신할 수 있다.<br><br>

                그러나 AP 자신을 포함한 여러 스테이션이 동시에 동일한 채널로 데이터 프레임을 전송할 수 있으므로 전송을 조정하기 위해 다중 접속 프로토콜이 필요하다.<br><br>


                다중 접속 프로토콜은 크게 세 가지 방법으로 분류된다.<br><br>

                채널 분할 (e.g., CDMA)<br>
                랜덤 접속<br>
                순번제<br><br>

                이더넷에서 랜덤 접속 프로토콜이 커다란 성공을 함에 따라 무선 랜에서도 랜덤 접속 프로토콜이 사용된다.<br><br>

                802.11 무선 랜에서 사용되는 랜덤 접속 프로토콜은 CSMA/CA(carrier sense multiple access with collision avoidance)다.<br>

                즉, 스테이션이 전송하기 전에 채널 상태를 감지하고(sense), 만일 채널이 사용 중이면 전송하지 않는다.<br><br>


                이더넷과 802.11 모두 채널을 감지하는 랜덤 접속 프로토콜을 사용하지만,<br>
                이들 MAC(Medium Access Control, 매체 접속 제어) 프로토콜에는 차이가 있다.<br><br>

                802.11은 충돌 검출(collision detection)을 사용하지 않고 충돌 회피(collision avoidance) 기술을 사용한다.<br>

                이유<br><br>
                충돌 검출을 하려면 (스테이션 자신의 신호) 송신과 (다른 스테이션의 전송 여부 결정을 위한) 수신이 동시에 가능해야 한다.<br>
                일반적으로 802.11 어댑터에서 수신 신호의 세기는 송신 신호의 세기에 비해 아주 약하므로, 송수신을 모두 고려하여 충돌을 검출할 수 있는 하드웨어를 만드는 데는 많은 비용이 든다.<br><br>
                동시에 송수신이 가능하고 다른 스테이션에 의한 채널 사용을 감지했을 때 전송을 중단할 수 있다고 하더라도,<br>
                숨은 터미널 문제와 페이딩 때문에 충돌을 검출하지 못할 수도 있다.<br><br>
                따라서 802.11 무선 랜은 일단 스테이션이 프레임을 전송하기 시작하면 그 프레임을 모두 전송하고, 이를 중단할 수 없다.<br>
                충돌이 빈번할 때 프레임 전체를 전송하면 다중 접속 프로토콜의 성능이 상당히 저하될 수 있기 때문에 몇 가지 충돌 회피 기술을 사용한다.<br>
                802.11에서는 링크 계층 ARQ(ACK/재전송) 방식을 사용한다.<br><br>


                링크 계층 ACK(link-layer acknowledgment)<br><br>
                무선 랜에서 송신 스테이션이 전송한 프레임은 여러 가지 이유(숨은 터미널 문제, 페이딩 등)로 목적지 스테이션에 제대로 도달하지 못할 수 있으며,<br>
                이를 해결하기 위해 802.11 MAC에서는 링크 계층 ACK(link-layer acknowledgment)를 사용한다.<br>
                <p class="img"><img src="../img/7.6.png" alt=""></p><br><br>

                목적지 스테이션은 CRC 검사를 통과한 프레임을 수신하면<br>
                SIFS(Short Inter-Frame Spacing)라는 짧은 시간을 기다린 후에 ACK 프레임을 송신 스테이션에게 보낸다.<br><br>

                (1) 만일 송신 스테이션이 주어진 시간 동안에 ACK를 수신하지 못하면, 송신 스테이션은 오류가 발생했다고 가정한다.<br>

                (2) 송신 스테이션은 다시 CSMA/CA 프로토콜을 사용해서 채널 접속을 한 후 프레임을 재전송한다.<br>

                일정 횟수만큼의 재전송 후에도 ACK를 수신하지 못하면, 송신 스테이션은 포기하고 프레임을 폐기한다.<br><br>


                802.11 CSMA/CA 프로토콜<br>
                스테이션(무선 장치나 AP)이 전송할 프레임을 갖고 있다고 가정하자.<br><br>

                스테이션은 채널이 사용되지 않음을 감지하면 DIFS(Distributed Inter-frame Space)라는 짧은 시간 동안 기다린 후에 프레임을 전송한다.<br>

                그렇지 않고 채널이 사용 중이면 스테이션은 백오프 방식에 따라 선택된 임의의 시간 동안 대기한다.<br><br>

                DIFS 시간 이후에 채널이 사용되지 않음을 감지하면 선택된 시간의 카운터값은 감소하며,<br>
                채널 사용이 감지되면 카운터값을 그대로 고정한다.<br>
                카운터가 0에 도달하면 스테이션은 프레임 전체를 전송한 후에 ACK를 기다린다.<br><br>

                카운터가 0에 도달하는 것은 채널이 사용되지 않을 때만 가능하다.<br>
                (1) ACK를 수신하면 송신 스테이션은 프레임이 목적지 스테이션에 의해 제대로 수신되었음을 알게 된다.<br>
                → 만일 스테이션에 전송할 프레임이 또 있다면 2단계의 CSMA/CA 프로토콜을 수행한다.<br><br>

                (2) ACK를 수신하지 못하면 송신 스테이션은 좀 더 증가된 임의의 시간값을 선택한 후, 2단계의 백오프 과정을 수행한다.<br><br>



                이더넷의 CSMA/CD(collision detection) 다중 접속 프로토콜<br>
                : 채널이 사용되지 않는 유휴 상태임을 감지한 스테이션은 바로 전송을 시작한다.<br><br>

                802.11의 CSMA/CA(collision avoidance) 프로토콜<br>
                : 채널이 사용되지 않는 상태임을 감지하더라도 스테이션은 임의의 백오프값을 선택하여 카운트다운 과정을 거치므로 전송을 지연시킨다.<br><br>


                이더넷 CSMA/CD에서는 전송 중이었던 스테이션이 전송을 마치면 이 두 스테이션이 바로 전송을 시작한다.<br><br>

                이 경우에 충돌이 발생하며, CSMA/CD에서는 두 스테이션 모두 전송을 즉시 중단한다.<br>
                충돌을 겪은 프레임의 나머지 부분을 전송하지 않음으로써 불필요한 전송을 피하므로 문제가 심각해지지 않는다.<br><br>

                802.11은 충돌을 검출하지 않으며 전송을 중단하지도 않는다.<br><br>

                이에 충돌을 겪은 프레임이라도 전체를 다 전송하기 때문에, 802.11의 목표는 가능한 한 충돌을 회피하는 것이다.<br>

                두 스테이션이 채널이 현재 사용 중임을 감지하면 아래와 같은 방식으로 충돌을 회피한다.<br><br>

                이들은 랜덤 백오프(random backoff) 기법을 수행하여 임의의 백오프값을 선택한다.<br><br>
                선택된 백오프 시간이 다른 경우, 채널이 사용되지 않는 유휴 상태에 도달했을 때<br>
                경쟁 중인 두 스테이션 중 하나가 다른 스테이션보다 먼저 전송을 시작하며,<br><br>
                ‘경쟁에서 진 스테이션’은 ‘이긴 스테이션’의 신호를 감지하고 자신의 카운터를 멈춘 후<br>
                경쟁에서 이겨 전송 기회를 획득한 스테이션이 전송을 완료할 때까지 기다린다.<br><br>
                이 상황에서도 두 스테이션이 서로 숨은 터미널이거나 두 스테이션이 선택한 임의의 백오프값이 너무 가까울 경우 충돌이 생길 수 있다.<br><br>



                숨은 터미널 해결방안: RTS와 CTS<br>
                802.11 MAC 프로토콜은 숨은 터미널이 존재하더라도 충돌을 회피할 수 있는 예약 방법을 선택할 수 있도록 제공한다.<br><br>


                아래의 상황에서는 2개의 무선 스테이션(H1, H2)과 하나의 AP가 있다.<br><br>

                두 무선 스테이션은 동일한 AP의 영역 내에 있으며 이 AP와 결합되어 있는데,<br>
                페이딩 때문에 각 무선 스테이션은 AP로부터는 잘 보이지만 그들 서로 간에는 숨어 있다<br>
                <p class="img"><img src="../img/7-7.png" alt=""></p><br><br>
                숨은 터미널이 왜 문제일까?<br><br>

                스테이션 H1이 프레임을 AP로 전송하고 있고, H1이 전송하는 도중에 스테이션 H2가 AP로의 전송을 원한다고 가정하자.<br><br>

                H1의 전송을 듣지 못한 H2는 임의의 시간(DIFS)을 기다린 후에 DATA 프레임을 전송하며 충돌이 발생하게 되고,<br>
                이에 H1의 전체 전송 시간과 H2의 전체 전송 시간 동안 채널이 낭비된다.<br><br>



                이 문제를 해결하기 위해 IEEE 802.11 프로토콜에서는<br>
                스테이션들이 짧은 RTS(Request to Send) 제어 프레임과 짧은 CTS(Clear to Send) 제어 프레임을 주고받게 함으로써 채널 접속을 예약할 수 있게 한다.<br><br>


                송신자는 DATA 프레임을 전송하고 싶으면, 먼저 RTS 프레임을 AP에게 보냄으로써<br>
                DATA 프레임과 ACK 프레임을 전송하는 데 필요한 전체 시간을 알려준다.<br><br>

                AP가 RTS를 수신하면 이에 대한 응답으로 CTS 프레임을 영역 내의 모든 스테이션에게 전송한다. (송신 스테이션 포함)<br><br>

                송신자에게는 전송할 수 있다는 허가를 알려준다.<br>
                다른 스테이션들에게는 예약된 시간 동안 전송하지 못하게 한다.<br>
                <p class="img"><img src="../img/7-8.png" alt=""></p><br><br>
                RTS와 CTS 프레임을 사용하면 다음과 같이 두 가지 측면에서 성능이 향상된다.<br><br>

                채널을 예약한 다음에만 길이가 긴 DATA 프레임을 전송하기 때문에 숨은 스테이션 문제가 완화될 수 있다.<br>
                RTS와 CTS 프레임은 길이가 짧으며, RTS/CTS 프레임에 의한 충돌은 짧은 RTS/CTS 프레임이 전송되는 동안에만 발생한다.<br>
                일단 RTS와 CTS 프레임이 제대로 전송되면, 그 뒤에 오는 DATA와 ACK 프레임은 충돌 없이 전송된다.<br><br>

                하지만 이들로 인해 지연과 채널 자원의 낭비가 생긴다.<br><br>

                따라서 실제로 무선 스테이션에서는 RTS 임계치를 설정하여,<br>
                임계치보다 긴 DATA 프레임을 전송할 때만 RTS/CTS 교환을 통해 채널을 예약할 수 있도록 한다.<br>


                점대점 링크로서의 802.11 사용<br><br>
                만일 두 노드가 지향성 안테나(directional antenna)를 갖고 있다면<br>
                지향성 안테나로 상대방을 가리킴으로써 지점 간의 링크를 형성하고, 이 링크에 대해 802.11 프로토콜을 실행할 수 있다.<br><br>

                비용이 저렴한 802.11 하드웨어에 지향성 안테나와 증가된 전송 전력(power)을 사용함으로써<br>
                802.11은 수십 km 거리의 무선 지점 사이에 연결을 제공하는 저렴한 수단으로 사용될 수 있다.<br><br>

                블루투스(Bluetooth) 네트워크는 수십 미터 이하의 단거리에서 저전력, 저비용으로 동작한다.<br>

                따라서 WPAN(wireless personal area network) 또는 피코넷(piconet)이라고도 한다.<br><br>


                블루투스 네트워크에는 많은 링크 레벨 네트워킹 기술로 가득 차 있다.<br><br>

                시분할 다중화(TDM) 및 주파수 분할<br>
                랜덤 백오프<br>
                폴링<br>
                오류 검출과 정정<br>
                ACK/NAK을 이용한 신뢰성 있는 전송<br><br>


                주파수 대역<br>
                무선 ISM(Industrial, Scientific, Medical) 밴드로서, 허가가 필요 없는 2.4 GHz 대역에서 동작한다.<br><br>

                즉, 같은 주파수 대역을 사용하는 가전제품들(전자레인지, 가정용 무선전화 등)과 경쟁하기 때문에 명시적으로 소음과 간섭 현상을 염두에 두고 설계되었다.<br><br>



                시분할 다중화(TDM)<br>
                블루투스 무선 채널은 625마이크로초의 시간 슬롯을 가진 TDM 방식으로 동작한다.<br><br>

                각 시간 슬롯마다 송신자는 79개 채널 중의 하나로 전송하며 슬롯마다 주파수 채널을 변경한다.<br>
                변경할 주파수 채널 선택은 난수에 의한 의사 무작위 추출(pseudo-random) 방식을 사용한다.<br><br>

                이런 형태의 주파수 변경 또는 주파수 도약 기법은 주파수 도약 확산 스펙트럼(frequency-hopping spread spectrum, FHSS) 방식으로 알려져 있다.<br>

                이를 통해 ISM 대역을 사용하는 다른 장치나 가전과의 간섭 현상이 일부 시간 슬롯으로 한정될 수 있다.<br><br>



                애드혹 네트워크<br>
                블루투스 네트워크는 인프라스트럭처(e.g., AP)가 없는 애드혹 네트워크다.<br><br>

                대신에 이들은 아래 그림과 같이 그들 스스로 최대 8개의 활성화된 노드로 구성된 피코넷을 형성해야 한다.<br>
                <p class="img"><img src="../img/7-9.png" alt=""></p><br><br>
                노드들 중 1개의 장치가 중앙 집중형 제어 노드로 지정되며, 나머지 장치들은 클라이언트가 된다.<br>

                피코넷 안에는 8개의 활성화된 장치 외로, 최대 255개의 ‘주차’된 장치가 있을 수 있다.<br><br>

                이들은 절전을 위해 수면 상태인 경우가 많다.<br>
                수면 상태의 장치들은 스케줄링에 따라 중앙 집중형 제어 노드로부터의 비컨 메시지를 수신하기 위해 주기적으로 깨어난다.<br>
                중앙 집중형 제어 노드에 의해 활성화된 장치로 변경되기 전에는 통신을 할 수 없다.<br><br>

                중앙 집중형 제어 노드<br>
                피코넷 내부의 다른 노드들을 제어한다.<br><br>

                시간 슬롯의 경게를 결정하는 클록의 관리<br><br>
                주파수 도약 순서 제공<br>
                피코넷으로의 클라이언트 진입 제어<br>
                클라이언트 장치의 전송 전력 제어(100 mW, 2.5 mW, 1 mW)<br>
                네트워크 진입이 허용된 클라이언트에게 폴링 방식을 사용하여 전송 권한을 부여한다.<br><br>

                노드들 중 1개의 장치가 중앙 집중형 제어 노드로 지정되며, 나머지 장치들은 클라이언트가 된다.<br>

                피코넷 안에는 8개의 활성화된 장치 외로, 최대 255개의 ‘주차’된 장치가 있을 수 있다.<br><br>

                이들은 절전을 위해 수면 상태인 경우가 많다.<br>
                수면 상태의 장치들은 스케줄링에 따라 중앙 집중형 제어 노드로부터의 비컨 메시지를 수신하기 위해 주기적으로 깨어난다.<br>
                중앙 집중형 제어 노드에 의해 활성화된 장치로 변경되기 전에는 통신을 할 수 없다.<br><br>

                중앙 집중형 제어 노드<br>
                피코넷 내부의 다른 노드들을 제어한다.<br><br>

                시간 슬롯의 경게를 결정하는 클록의 관리<br><br>
                주파수 도약 순서 제공<br>
                피코넷으로의 클라이언트 진입 제어<br>
                클라이언트 장치의 전송 전력 제어(100 mW, 2.5 mW, 1 mW)<br>
                네트워크 진입이 허용된 클라이언트에게 폴링 방식을 사용하여 전송 권한을 부여한다.<br><br>

                아래 그림은 4G LTE(Long-Term Evolution) 네트워크 구조의 주요 요소를 보여준다.<br>
                <p class="img"><img src="../img/7-10.png" alt=""></p><br><br>
                이동 장치(mobile device)<br>
                셀룰러 통신 사업자의 네트워크에 연결되는 스마트폰, 태블릿, 랩톱 또는 IoT 장치 등이며, (고정된 온도 세선 또는 감시 카메라도 포함)<br>
                웹 브라우저, 지도 앱, 음성 및 화상회의 앱, 모바일 결제 앱 등이 실행되는 곳이다.<br><br>

                UE(User Equipment)<br>
                전체 5계층 인터넷 프로토콜 스택을 구현한다.<br><br>
                NAT을 통해 얻을 수 있는 IP 주소를 갖고 있는 네트워크의 종단점이다.<br>
                전 세계적으로 고유한 IMSI(International Mobile Subscriber Identity)라는 64비트의 식별자가 있다.<br>
                가입자가 속한 국가 및 홈 네트워크를 포함하여 전 세계의 셀룰러 사업자 시스템에서 가입지를 식별한다. (MAC 주소와 유사함)<br>
                이는 SIM(Subscriber Identity Module) 카드에 저장된다.<br><br>
                SIM 카드는 가입자가 접속할 수 있는 서비스에 대한 정보와 해당 가입자의 키 정보를 암호화한다.<br><br>

                기지국(base station)<br>
                셀룰러 통신 사업자 네트워크의 가장자리에 위치하며, 무선 전파 자원 및 담당 영역에 속한 이동 장치를 관리할 책임이 있다.<br><br>

                이동 장치는 기지국과 상호작용함으로써 사업자의 네트워크에 접속된다.<br>
                무선 접속 네트워크에서 장치의 인증 및 자원(무선 채널)의 할당 기능을 조정한다.<br><br>
                무선 랜의 AP와는 다르게, 셀룰러 기지국에서만 수행하는 역할들은 다음과 같다.<br>
                AP 이동 장치에서 게이트웨이까지 장치 고유의 IP 터널을 생성하고, 셀 간의 장치 이동성을 처리하기 위해 상호작용한다.<br><br>
                인접한 기지국들은 셀 사이의 간섭을 최소화하기 위해 무선 스펙트럼을 관리하기 위한 상호 조정 기능을 수행한다.<br><br>

                홈 가입자 서버(Home Subscriber Server, HSS)<br>
                HSS의 네트워크를 홈 네트워크로 사용하는 이동 장치에 대한 정보를 저장하는 데이터베이스<br><br>

                제어 평면의 요소<br>
                이동 장치의 인증을 위해 이동성 관리 개체(MME)와 함께 사용된다.<br><br>

                2G 셀룰러 구조<br>
                <p class="img"><img src="../img/7-11.png" alt=""></p><br><br>
                3G 시스템 구조<br>
                <p class="img"><img src="../img/7-12.png" alt=""></p><br><br>
                4G 시스템 구조<br>
                <p class="img"><img src="../img/7-13.png" alt=""></p><br><br>
            </div>

            <h3>[8단원] 네트워크 보안</h3><br><br>
                
            <div>   
                네트워크 보안이란 무엇인가?<br><br>

                안전한 통신에 요구되는 특성<br><br>

                기밀성<br>

                송신자와 지정된 수신자만이 전송되는 메시지 내용을 이해할 수 있어야 한다.<br>
                도청자가 메시지를 가로챌 수도 있으므로 도청자가 해석할 수 없도록 메시지를 어떠한 방식으로 암호화해야한다.<br><br>

                메시지 무결성<br>

                통신하는 내용이 전송 도중에 변경되지 않아야 한다.<br><br>

                종단점 인증<br>

                통신에 참여하는 상대방이 누구인지 확인하기 위해 상대방의 신원을 확인할 수 있어야 한다.<br><br>

                운영 보안<br>

                오늘날 대부분 기관들의 네트워크는 공공 인터넷에 연결되어 있다.<br>

                따라서 외부로부터의 공격을 받을 수 있는 위험을 갖고 있고 대비하여 방화벽이나 보안 체계를 갖고 있어야 한다.<br>

                보안 시나리오<br>
                <p class="img"><img src="../img/8-1.png" alt=""></p><br><br>

                송신자와 수신자<br>

                데이터 일부 혹은 전부를 암호화하여 안전한 통신을 하려고 할 것이다.<br><br>

                침입자<br>

                채널상의 제어 메시지 및 데이터 메시지를 스니핑하거나 기록<br>
                메시지 혹은 메시지 내용의 조작, 삽입 혹은 삭제<br><br>

                종단점 인증<br>
                종단점 인증이란 하나의 통신 개체가 다른 개체에게 자신의 신원을 컴퓨터 네트워크상으로 증명하는 작업이다.<br><br>

                예를 들어, 전자 메일 사용자가 서버에 신원을 입증할 수 있다.<br>

                서로 간의 인증은 인증 프로토콜의 한 부분으로서 교환된 메시지와 데이터만을 기반으로 수행되어야 한다.<br><br>


                대부분의 인증 프로토콜은 다른 프로토콜을 수행하기 전에 수행된다.<br>

                즉, 인증 후에 작업을 수행한다.<br><br>


                인증 프로토콜 ap(authentication protocol) 2.0<br>
                <p class="img"><img src="../img/8-2.png" alt=""></p><br><br>

                신자가 이미 알려진 네트워크 주소(IP 주소)를 가지고 통신을 한다면 수신자는 인증 메시지를 가지고온 IP 데이터 그램 출발지 주소가 송신자의 IP 주소와 일치하는지 확인함으로써 앨리스를 인증할 수 있다.<br><br>

                그러나 IP 데이터그램을 생성해서 원하는 출발지 IP 주소를 넣고 그 데이터그램을 라우터로 보낼 수 있으므로 이는 안전하지 못하다.<br><br>


                예를 들어, 침입자가 가짜 출발지 주소를 쓰고 데이터를 보낼 수 있는데 이 방법은 IP 스푸핑의 한 형태이다.<br>

                침입자가 출발지 주소를 바꾸지 못하게 하면 되겠지만, 이는 강제할 수 없다.<br><br>


                인증 프로토콜 ap(authentication protocol) 3.0<br>
                <p class="img"><img src="../img/8-3.png" alt=""></p><br><br>

                인증자와 인증 받는 사람 간에 공유된 비밀번호를 사용할 수 있다.<br>

                지메일, 페이스북 등 많은 서비스가 비밀번호 인증을 사용한다.<br><br>

                그러나 이 프로토콜은 안전하지 못하다.<br>

                침입자가 송신자의 통신을 도청한다면 송신자의 비밀번호를 알아낼 수 있고, 이후 송신자인 척 할 수 있다.<br><br>


                인증 프로토콜 ap(authentication protocol) 3.1<br>
                비밀번호를 암호화하여 비밀번호를 엿듣는 것을 막을 수 있다.<br>

                송신자와 수신자는 대칭 비밀키를 공유하여 비밀번호를 암호화 복호화할 수 있다.<br><br>


                그러나 수신자는 재생 공격(playback attack)의 위험에 노출되어 있다.<br>

                침입자는 도청하여 송신자의 암호화된 비밀번호를 저장했다가 나중에 그대로 수신자에게 보낸다.<br><br>

                즉, 송신자인 척 할 수 있다.<br>


                인증 프로토콜 ap(authentication protocol) 4.0<br>
                <p class="img"><img src="../img/8-4.png" alt=""></p><br><br>
                넌스(nonce)는 프로토콜이 평생에 단 한 번만 사용하는 숫자를 뜻한다.<br><br>

                시나리오<br><br>

                송신자는 메시지를 보낸다.<br>
                수신자는 넌스 R을 선택하고 그것을 송신자에게 보낸다.<br><br>
                송신자는 대칭 비밀키를 이용하여 그 넌스를 암호화하고, 암호화된 넌스 K(R)을 수신자에게 보낸다.<br>
                해당 송신자가 다음에 또 통신을 하면 R이 바뀌어도 비밀키를 알고 있으므로 또 인증을 받을 수 있다.<br><br>
                그러나 침입자라면 비밀키를 모르고 있으므로 암호화할 수 없다.<br>
                수신자는 상대방이 대칭 비밀키를 알고 있으므로 상대방인 것을 확인한다.<br><br>

                네트워크 계층 보안: IPsec과 가상 사설 네트워크<br>
                IPsec이라고 알려진 IP 보안 프로토콜은 네트워크 계층의 보안을 제공한다.<br><br>


                IPsec 특징<br><br>
                호스트나 라우터 같은 네트워크 계층의 어떤 두 개체 사이에서 IP 데이터그램을 보호한다.<br>
                데이터그램의 페이로드 부분을 암호화하여 TCP 세그먼트 등이 암호화된다.<br>
                위의 기밀성을 제공하는 것처럼 출발지 인증, 데이터 무결성, 재생 공격 방지 같은 보안 서비스를 제공할 수 있다.<br><br>

                IPsec과 가상 사설 네트워크<br><br>
                흩어져있는 기관들은 그들의 호스트와 서버가 기밀성을 유지하며 안전하게 서로에게 데이터를 전송할 수 있도록 종종 자신만의 IP 네트워크를 갖기를 원한다.<br>

                이를 위해 공공 인터넷과 완전히 분리된 라우터, 링크, DNS 시스템을 포함하는 물리적으로 독립된 네트워크를 실제로 설치할 수 있고, 이러한 네트워크를 사설 네트워크(private network)라고 한다.<br><br>


                큰 유지 비용이 드는 사설 네트워크 대신 오늘날에는 기존 공공 인터넷 상에 VPN을 설치한다.<br>

                VPN 을 이용하면 기관의 사무실간 트래픽은 공공 인터넷을 통해 전송된다.<br><br>

                그러나 기밀성을 제공하기 위해 이 트래픽들은 공공 인터넷에 들어가기 전에 암호화된다.<br>

                공공 인터넷을 통과하지 않을 때는 평범한 IPv4 데이터그램이 사용되고, 통과해야할 때는 IPsec을 지원하는 라우터가 IPv4 데이터그램을 IPsec 데이터그램으로 바꾼 후 인터넷으로 전송한다.<br><br>

                IPsec 데이터그램은 전형적인 IPv4 헤더를 가지고 있어 공공 인터넷의 라우터는 IPv4 데이터그램과 똑같이 이를 전달한다.<br>

                실질적으로는 IPsec 데이터그램의 페이로드는 IPsec헤더를 포함하고, 이는 IPsec 처리를 위해 사용된다.<br><br>


                AH와 ESP 프로토콜<br>
                출발지 IPsec 개체가 보안 데이터그램을 목적지 개체에 보낼 때 AH 프로토콜이나 ESP 프로토콜을 사용한다.<br><br>

                AH프로토콜<br>
                출발지 인증과 데이터 무결성을 제공하지만, 기밀성을 제공하지 않는다.<br><br>
                ESP 프로토콜<br>
                출발지 인증과 데이터 무결성, 기밀성을 제공한다.<br><br>
                대부분 기밀성을 필요로 하여 널리 사용된다.<br><br>

                방화벽<br>
                방화벽(firewall)은 전체 인터넷으로부터 기관의 내부 네트워크를 분리시킨 하드웨어와 소프트웨어의 조합으로, 어떤 패킷은 통과가 허용되나 어떤 패킷은 차단된다.<br>

                네트워크 관리자가 해당 네트워크에 대한 트래픽 출입을 관리하여 접속을 제어한다.<br><br>

                방화벽의 목표<br>
                외부와 내부를 오가는 모든 트래픽은 방화벽을 거친다.<br><br>
                로컬 보안 정책에 정의된 대로 승인된 트래픽만이 통과가 허용된다.<br>
                방화벽 자체가 침입 시도에 안전해야 한다.<br><br>

                전통적인 패킷 필터<br>
                기관은 일반적으로 내부의 네트워크를 ISP에 연결하는 게이트웨이 라우터를 갖는다.<br><br>

                외부와 내부를 오가는 모든 트래픽은이 라우터를 지나야만 하고, 이 라우터에서 패킷 필터링이 일어난다.<br><br>


                필터링 결정의 근거<br><br>

                IP 출발지 또는 목적지 주소<br>
                불행히 출발지 주소를 위장한 데이터그램을 막을 수 없다.<br><br>
                IP 데이터그램 내의 프로토콜 타입 : TCP,UDP OSPF 등<br>
                TCP 또는 UDP 출발지와 목적지 포트<br>
                TCP 플래그 비트 : SYN, ACK<br>
                ACK 비트가 0인 입력 세그먼트를 거른다면 외부에서 오는 모든 TCP 연결은 거부하고, 내부에서 나가는 건 허락한다.<br><br>
                ICMP 메시지 타입<br><br>
                네트워크에서 나가는 데이터그램과 들어오는 데이터그램에 대한 서로 다른 규칙들<br>
                서로 다른 라우터 인터페이스에 대한 서로 다른 규칙들<br>
                네트워크 관리자는 기관의 정책에 기초해서 방화벽을 설정한다.<br><br>

                예를 들어, 공개 웹 서버 접속 목적을 제외한 어떠한 TCP 연결도 받고 싶지 않다면, 목적지 포트 80번과 웹 서버에 해당하는 목적지 주소를 가진 TCP SYN 세그먼트를 제외한 모든 TCP SYN 세그먼트를 막을 수 있다.<br>

                방화벽의 규칙은 접속 제어 목록과 함께 라우터에 구현된다.<br><br>


                상황 고려 패킷 필터<br>
                상황 고려 필터는 TCP 연결을 추적하여 이 정보를 패킷 차단 결정을 하는 데 이용한다.<br><br>

                상황 고려 필터는 연결 고려 테이블에 있는 진행 중인 모든 TCP 연결을 추적함으로써 전통적인 패킷 필터에서 통과되던 패킷도 관리한다. (관리하지 않는다면 Dos 공격 등을 막을 수 없다.)<br>

                예를들어, SYN,SYNACK,ACK,FIN을 관찰하여 연결이 60초 동안 사용되지 않는다면 그 연결은 이미 종료되었다고 가정할 수 있다.<br><br>


                상황 고려 필터는 접속 제어 목록에 연결 검사라는 새로운 열을 포함한다.<br>

                예를 들어, 외부에서 조작된 패킷을 TCP 출발지 포트 80번, ACK 플래그를 1로 설정하여 내부로 보내려고 한다고 해보자.<br>

                전통적인 패킷 필터는 이를 막을 수 없지만 상황 고려 필터는 연결 검사를 열을 통해 외부에서 들어오는 패킷을 연결 검사 테이블에서 연결된 상태인지 확인하고 조작된 패킷은 연결 검사 테이블에 없으므로 필터링된다.<br><br>

                침입 탐지 시스템<br><br>
                통과하려는 패킷 헤더를 살펴볼 뿐만 아니라 자세한 패킷 관찰을 수행하는 새로운 틈새 장치에 대한 요구가 있다.<br>

                악의적일 수 있는 트래픽을 발견했을 때 경고를 발생시키는 장치를 침입 탐지 시스템(intrusion detection system,IDS)이라고 한다.<br><br>

                의심스러운 트래픽을 걸러내는 장치는 침입 방지 시스템(intrusion prevention system ,IPS)이라고 한다.<br>

                이 둘의 중요한 점은 어떻게 의심스러운 트래픽을 발견하느냐 이므로 두 시스템을 통틀어 IDS 시스템으로 호칭한다.<br><br>

                한 기관에서 IDS는 여러개일 수 있는데, 서로 협조하며 의심스러운 트래픽이 있을 땐 중앙 IDS 프로세서에 전달되어 네트워크 관리자에게 전달된다.<br>

                위 그림은 패킷 필터와 애플리케이션 게이트웨이에 의해 보호되고 IDS에 의해 감시되는 높은 보호 구역과 패킷 필터와 IDS만을 사용하는 낮은 구역으로 나눌 수 있다.<br>

                IDS는 지나가는 각각의 패킷을 수만 개의 시그니처와 비교해야하기 때문에 많은 연산이 필요하고 IDS를 안쪽에 위치시켜 전체 트래픽 중 일부만 관찰하면 되도록 한다.<br><br>


                시그니처 기반 시스템<br>
                시그니처 기반 IDS는 공격 시그니처에 대한 방대한 데이터베이스를 유지한다.<br><br>

                각 시그니처는 침입 행위에 관련된 규칙들의 집합이다.<br>

                시그니처는 단순히 단일 패킷에 대한 특징의 목록일 수도 있고, 연속된 일련의 패킷들에 관련한 것일 수도 있다.<br><br>

                네트워크 관리자는 시그니처를 자신에 맞게 수정하고 그것을 데이터베이스에 추가할 수 있다.<br>

                시그니처 기반 IDS는 지나가는 모든 패킷을 읽어 데이터베이스 내의 시그니처들과 비교한다.<br><br>

                만일 어떤 패킷이 데이터베이스 내의 시그니처와 일치하면 경고를 발생시킨다.<br>

                그러나 이 방법은 새로운 공격에 대해 대비할 수 없고, 모든 패킷이 데이터베이스와 비교되어야하므로 성능이 좋지 않다.<br><br>


                이상 기반 IDS<br>
                트래픽을 관찰할 때 트래픽 분석표를 만든다.<br><br>

                그 후 ICMP 패킷의 빈도가 지나치게 높다든지 포트 정보 수집과 ping 메시지가 갑자기 증가하는 등 통계학적으로 비정상적인 패킷의 스트림을 찾는다.<br><br>
            </div>

        </section>
    </div>
</body>
</html>